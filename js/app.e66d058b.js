(function(e){function t(t){for(var a,r,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)r=s[d],n[r]&&p.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],a=!0,s=1;s<o.length;s++){var l=o[s];0!==n[l]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var a={},n={app:0},i=[];function r(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=a,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(o,a,function(t){return e[t]}.bind(null,a));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0260":function(e,t,o){"use strict";var a=o("7a6b"),n=o.n(a);n.a},"049a":function(e,t,o){},"180b":function(e,t,o){},"24d8":function(e,t,o){},2945:function(e,t,o){},"29a7":function(e,t,o){"use strict";var a=o("4b85"),n=o.n(a);n.a},3627:function(e,t,o){},"36af":function(e,t,o){"use strict";var a=o("f2aa"),n=o.n(a);n.a},"3f59":function(e,t,o){"use strict";var a=o("b897"),n=o.n(a);n.a},"49d1":function(e,t,o){},"4b85":function(e,t,o){},5597:function(e,t,o){"use strict";var a=o("8b68"),n=o.n(a);n.a},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("097d");var a=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("main",{attrs:{id:"app"}},[o("section",{attrs:{id:"palettesection"}},[o("colour-palette",{attrs:{palette:e.palette},on:{"type-selected":e.typeSelected,"add-colour":e.addColour,"move-colour":e.moveColour,"select-colour":e.selectColour,"remove-colour":e.removeColour,"discard-palette":e.discardPalette,"import-palette":e.importPalette}})],1),o("section",{attrs:{id:"imagesection"}},[o("image-colour-picker",{attrs:{"can-pick-colour":e.canPickColour},on:{"colour-picked":e.colourPicked}})],1)])},i=[],r=(o("7f7f"),o("ac6a"),o("7514"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"colourpalette"},[o("div",{staticClass:"colourpalette-name"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.palette.name,expression:"palette.name"}],attrs:{type:"text",id:"name",placeholder:"Enter a palette name"},domProps:{value:e.palette.name},on:{input:function(t){t.target.composing||e.$set(e.palette,"name",t.target.value)}}})]),o("div",{staticClass:"colourpalette-type"},[o("palette-types",{attrs:{"selected-type":e.palette.type},on:{"type-selected":e.typeSelected}})],1),o("colour-list",{attrs:{colours:e.palette.colours},on:{"move-colour":e.moveColour,"select-colour":e.selectColour,"remove-colour":e.removeColour}}),o("div",{staticClass:"colourpalette-preview"},[o("palette-preview",{attrs:{palette:e.palette}})],1),o("ul",{staticClass:"colourpalette-actions"},[o("li",{staticClass:"import"},[o("button",{staticClass:"icon-button fas fa-file-import",attrs:{title:"Import XML"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.importModalOpen=!0}}})]),o("li",{staticClass:"code"},[o("button",{staticClass:"icon-button fas fa-code",attrs:{title:"Get code"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.codeModalOpen=!0}}})]),o("li",{staticClass:"discard"},[o("button",{staticClass:"icon-button fas fa-trash-alt",attrs:{title:"Delete palette"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.discard(t)}}})]),o("li",{staticClass:"add"},[o("button",{staticClass:"icon-button fas fa-plus",attrs:{title:"Add colour",disabled:!e.canAddColour},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.add(t)}}})])]),e.codeModalOpen?o("modal",{attrs:{width:"54rem"},on:{close:function(t){e.codeModalOpen=!1}}},[o("get-code",{attrs:{palette:e.palette}})],1):e._e(),e.importModalOpen?o("modal",{attrs:{width:"54rem"},on:{close:function(t){e.importModalOpen=!1}}},[o("import-code",{on:{"import-palette":e.importPalette,close:function(t){e.importModalOpen=!1}}})],1):e._e()],1)}),s=[],l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{staticClass:"colourlist"},[o("draggable",{staticClass:"colourlist-draggable",attrs:{options:{chosenClass:"colour--dragging",delay:25}},on:{change:e.colourMoved},model:{value:e.draggableColours,callback:function(t){e.draggableColours=t},expression:"draggableColours"}},e._l(e.draggableColours,function(t,a){return o("Colour",{key:t.id,staticClass:"colourlist-colour",attrs:{colour:t,index:a},on:{select:e.select,remove:e.remove}})}))],1)},c=[],u=(o("20d6"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("li",{staticClass:"colour",class:e.activeClass,style:{"grid-column":e.column,"grid-row":e.row},attrs:{title:e.colour.colour},on:{click:e.click}},[o("div",{staticClass:"colour-swatch",style:{"background-color":e.colour.colour}}),o("div",{staticClass:"colour-remove",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.remove(t)}}},[o("span",{staticClass:"fas fa-times"})])])}),d=[],p=(o("c5f6"),{name:"Colour",props:{colour:{type:Object,required:!0},index:{type:Number,required:!0}},computed:{activeClass:function(){return this.colour.isSelected?"colour--selected":""},column:function(){return Math.floor(this.index/5)+1},row:function(){return this.index%5+1}},methods:{click:function(){this.$emit("select",this.colour)},remove:function(){console.log("remove"),this.$emit("remove",this.colour)}}}),m=p,f=(o("eb63"),o("2877")),h=Object(f["a"])(m,u,d,!1,null,"49f6f259",null);h.options.__file="Colour.vue";var v=h.exports,g=o("1516"),C=o.n(g),y={name:"ColourList",props:{colours:{type:Array,required:!0}},components:{Colour:v,draggable:C.a},computed:{draggableColours:{get:function(){return this.colours},set:function(e){}},selectedColourIndex:function(){return this.colours.findIndex(function(e){return e.isSelected})}},methods:{getColour:function(e){return e<0||e>=this.colours.length?null:this.colours[e]},getValidColumnIndex:function(e,t){var o=e+t;if(o<0||o>=this.colours.length)return-1;var a=Math.floor(e/5),n=Math.floor(o/5);return n===a?o:-1},getValidRowIndex:function(e,t){var o=e+t;if(o<0||o>=this.colours.length)return-1;var a=Math.floor(e%5),n=Math.floor(o%5);return n===a?o:-1},select:function(e){e&&this.$emit("select-colour",e)},selectByIndex:function(e){this.select(this.getColour(e))},move:function(e,t){this.$emit("move-colour",{colour:e,newIndex:t})},moveSelectedColourToIndex:function(e){e<0||this.move(this.colours[this.selectedColourIndex],e)},remove:function(e){this.$emit("remove-colour",e)},colourMoved:function(e){this.move(this.colours[e.moved.oldIndex],e.moved.newIndex)},keyUp:function(e){if("body"===e.target.tagName.toLowerCase()){var t=e.getModifierState("Shift")?this.moveSelectedColourToIndex:this.selectByIndex;switch(e.key){case"Down":case"ArrowDown":return void t(this.getValidColumnIndex(this.selectedColourIndex,1));case"Up":case"ArrowUp":return void t(this.getValidColumnIndex(this.selectedColourIndex,-1));case"Left":case"ArrowLeft":return void t(this.getValidRowIndex(this.selectedColourIndex,-5));case"Right":case"ArrowRight":t(this.getValidRowIndex(this.selectedColourIndex,5))}}}},created:function(){window.addEventListener("keyup",this.keyUp,!1)},destroyed:function(){window.removeEventListener("keyup",this.keyUp)}},b=y,w=(o("3f59"),Object(f["a"])(b,l,c,!1,null,"f0ade0a6",null));w.options.__file="ColourList.vue";var x=w.exports,_=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"getcode"},[o("div",{staticClass:"getcode-codecontainer"},[o("pre",{ref:"code",staticClass:"getcode-code"},[e._v(e._s(e.xml))])]),o("transition",[e.copied?e._e():o("button",{staticClass:"getcode-copy",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.copy(t)}}},[e._v("Copy to clipboard")]),e.copied?o("button",{staticClass:"getcode-copy getcode-copy--copied",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.copy(t)}}},[e._v("\n      Copied\n      "),o("span",{staticClass:"fas fa-check"})]):e._e()])],1)},k=[],P=o("92d7"),I=o.n(P),O={name:"GetCode",props:{palette:{type:Object,required:!0}},data:function(){return{copied:!1}},computed:{xml:function(){var e='<color-palette name="'.concat(I.a.encode(this.palette.name,{useNamedReferences:!0}),'" type="').concat(this.palette.type,'">\n');return this.palette.colours.forEach(function(t){return e+="    <color>".concat(t.colour,"</color>\n")}),e+"</color-palette>"}},methods:{copy:function(){if(document.body.createTextRange){var e=document.body.createTextRange();e.moveToElementText(this.$refs.code),e.select()}else if(window.getSelection){var t=window.getSelection(),o=document.createRange();o.selectNodeContents(this.$refs.code),t.removeAllRanges(),t.addRange(o)}else console.log("Text selection not supported");document.execCommand("copy"),this.copied=!0},xmlEscape:function(e){var t=document.createElement("textarea");return t.value=e,t.innerHTML}},created:function(){this.copied=!1}},M=O,$=(o("b2a8"),Object(f["a"])(M,_,k,!1,null,"f34644ac",null));$.options.__file="GetCode.vue";var E=$.exports,S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"importcode"},[o("div",{staticClass:"importcode-codecontainer"},[o("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.xml,expression:"xml",modifiers:{trim:!0}}],staticClass:"importcode-code",class:e.codeClasses,attrs:{placeholder:"Paste a <color-palette>",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.xml},on:{input:function(t){t.target.composing||(e.xml=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.hasValidationMessage,expression:"hasValidationMessage"}],staticClass:"importcode-validationmessage"},[e._v(e._s(e.validationMessage))])]),o("button",{staticClass:"importcode-button importcode-button--import",attrs:{disabled:!e.isValid},on:{click:e.importXml}},[e._v("Import")]),o("button",{staticClass:"importcode-button importcode-button--cancel",on:{click:function(t){e.$emit("close")}}},[e._v("Cancel")])])},D=[],T=o("8afe"),j=new DOMParser,A=/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i,L={name:"ImportCode",data:function(){return{xml:"",isValid:!1,validationMessage:"",palette:{}}},computed:{hasCode:function(){return!!this.xml},hasValidationMessage:function(){return!!this.validationMessage},codeClasses:function(){var e=[];return this.hasCode&&!this.isValid&&e.push("importcode-code--invalid"),this.hasValidationMessage&&e.push("importcode-code--validationmessage"),e}},methods:{invalid:function(e){this.isValid=!1,this.validationMessage=e,this.palette={}},importXml:function(e){this.$emit("import-palette",this.palette)}},watch:{xml:function(e){if(!e)return this.invalid("");var t=j.parseFromString(e,"application/xml"),o=t.documentElement;if(o.getElementsByTagName("parsererror").length)return this.invalid("Unable to parse XML");if("color-palette"!==o.tagName)return this.invalid("Expected a root element of <color-palette>");var a=Object(T["a"])(o.children).filter(function(e){return"color"===e.tagName}).map(function(e){return e.innerHTML.trim()});if(!a.length)return this.invalid("Expected one or more <color> elements");if(a.filter(function(e){return!e}).length>0)return this.invalid("All <color> elements must contain a valid colour");var n=a.find(function(e){return!A.test(e)});if(n)return this.invalid("'".concat(n,"' is not a valid colour"));this.isValid=!0,this.validationMessage="",this.palette={name:o.getAttribute("name"),type:o.getAttribute("type"),colours:a}}}},z=L,F=(o("5a07"),Object(f["a"])(z,S,D,!1,null,"3bfbfa36",null));F.options.__file="ImportCode.vue";var N=F.exports,V=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask",on:{click:function(t){if(t.target!==t.currentTarget)return null;t.stopPropagation(),t.preventDefault(),e.$emit("close")}}},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container",style:{width:e.width},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[o("button",{staticClass:"modal-close icon-button fas fa-times",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.$emit("close")}}}),e._t("default")],2)])])])},R=[],U={name:"Modal",props:{width:{type:String}},methods:{keyUp:function(e){"input"!==e.target.tagName.toLowerCase()&&"Escape"===e.key&&this.$emit("close")}},created:function(){window.addEventListener("keyup",this.keyUp,!1)},destroyed:function(){window.removeEventListener("keyup",this.keyUp)}},q=U,H=(o("fae8"),Object(f["a"])(q,V,R,!1,null,"5ff5e786",null));H.options.__file="Modal.vue";var B=H.exports,X=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"palettepreview",style:{background:e.backgroundStyle}},[e._v(" ")])},G=[],Y={name:"PalettePreview",props:{palette:{type:Object,required:!0}},computed:{backgroundStyle:function(){switch(this.palette.type){case"regular":var e=100/this.palette.colours.length,t=0;return"linear-gradient(to right, ".concat(this.palette.colours.map(function(o){return"".concat(o.colour," ").concat(t,"%, ").concat(o.colour," ").concat(t+=e,"%")}).join(", "),")");case"ordered-diverging":case"ordered-sequential":return"linear-gradient(to right, ".concat(this.palette.colours.map(function(e){return e.colour}).join(", "),")")}return""}}},Z=Y,J=(o("93e4"),Object(f["a"])(Z,X,G,!1,null,"9da18b0e",null));J.options.__file="PalettePreview.vue";var K=J.exports,Q=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{staticClass:"palettetypes"},e._l(e.types,function(t){return o("palette-type",{key:t.name,staticClass:"palettetypes-type",attrs:{type:t},on:{"type-selected":e.typeSelected}})}))},W=[],ee=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("li",{staticClass:"palettetype",class:e.selectedClass,on:{click:function(t){e.$emit("type-selected",e.type.name)}}},[o("div",{class:"palettetype--"+e.type.classModifier},[o("div",{class:"palettetype-example--"+e.type.classModifier},[e._v(" ")]),o("label",{staticClass:"palettetype-label"},[e._v(e._s(e.type.displayName))])])])},te=[],oe={name:"PaletteType",props:{type:{type:Object,required:!0}},computed:{selectedClass:function(){return this.type.isSelected?"palettetype--selected":""}}},ae=oe,ne=(o("c6d4"),Object(f["a"])(ae,ee,te,!1,null,"2efdf872",null));ne.options.__file="PaletteType.vue";var ie=ne.exports,re={name:"PaletteTypes",props:{selectedType:{type:String,required:!0}},data:function(){return{types:[this.createType("regular","regular","Regular"),this.createType("ordered-sequential","sequential","Sequential"),this.createType("ordered-diverging","diverging","Diverging")]}},components:{PaletteType:ie},methods:{createType:function(e,t,o){return{name:e,classModifier:t,displayName:o,isSelected:e===this.selectedType}},typeSelected:function(e){this.$emit("type-selected",e)}},watch:{selectedType:function(e){this.types.forEach(function(t){return t.isSelected=t.name===e})}}},se=re,le=(o("0260"),Object(f["a"])(se,Q,W,!1,null,"af5320be",null));le.options.__file="PaletteTypes.vue";var ce=le.exports,ue={name:"ColourPalette",props:{palette:{type:Object,required:!0}},data:function(){return{codeModalOpen:!1,importModalOpen:!1}},computed:{canAddColour:function(){return this.palette.colours.length<this.palette.maximumColours}},components:{ColourList:x,GetCode:E,ImportCode:N,Modal:B,PalettePreview:K,PaletteTypes:ce},methods:{add:function(){this.canAddColour&&this.$emit("add-colour")},selectColour:function(e){this.$emit("select-colour",e)},removeColour:function(e){this.$emit("remove-colour",e)},moveColour:function(e){this.$emit("move-colour",e)},typeSelected:function(e){this.$emit("type-selected",e)},discard:function(){this.$emit("discard-palette")},importPalette:function(e){this.importModalOpen=!1,this.$emit("import-palette",e)},keyUp:function(e){"body"===e.target.tagName.toLowerCase()&&"+"===e.key&&this.add()}},created:function(){window.addEventListener("keyup",this.keyUp,!1)},destroyed:function(){window.removeEventListener("keyup",this.keyUp)}},de=ue,pe=(o("9374"),Object(f["a"])(de,r,s,!1,null,"62e3b2f9",null));pe.options.__file="ColourPalette.vue";var me=pe.exports,fe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"imagecolourpicker"},[o("div",{staticClass:"imagecolourpicker-canvas"},[o("image-canvas",{attrs:{image:e.image,scale:e.scale,"can-pick-colour":e.canPickColour},on:{"colour-picked":e.colourPicked,"file-dropped":e.fileSelected,zoom:e.zoom}})],1),o("div",{staticClass:"imagecolourpicker-toolbar"},[o("ul",{staticClass:"controls"},[o("li",{staticClass:"zoomImage"},[o("image-zoom",{attrs:{scale:e.scale,range:e.zoomRange,enabled:e.hasImage},on:{zoom:e.zoom}})],1),o("li",{staticClass:"selectFile"},[o("image-file-open",{on:{"file-selected":e.fileSelected}})],1)])])])},he=[],ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"container",staticClass:"imagecanvas",class:e.dropClass,on:{dragenter:function(t){return t.preventDefault(),e.dragEnter(t)},dragover:function(t){return t.preventDefault(),e.dragEnter(t)},dragleave:function(t){return t.preventDefault(),e.dragLeave(t)},drop:function(t){return t.stopPropagation(),t.preventDefault(),e.drop(t)}}},[o("div",{staticClass:"imagecanvas-canvas",on:{wheel:function(t){return t.shiftKey?e.wheel(t):null}}},[o("scalable-image",{directives:[{name:"show",rawName:"v-show",value:e.hasImage,expression:"hasImage"}],attrs:{"can-pick-colour":e.canPickColour,image:e.image,scale:e.scale},on:{"colour-picked":e.colourPicked}})],1),o("div",{ref:"droptarget",staticClass:"droptarget"},[e._m(0)])])},ge=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"droptarget-textwrapper"},[o("div",{staticClass:"droptarget-text"},[o("span",{staticClass:"droptarget-icon fas fa-hand-point-down"}),o("br"),e._v("Drop image here\n      ")])])}],Ce=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"scalableimage"},[o("div",{staticClass:"scalableimage-hackyverticalspacer"},[e._v(" ")]),o("div",{staticClass:"scalableimage-image",class:{"scalableimage-image--active":e.canPickColour}},[o("image-colour-swatch",{directives:[{name:"show",rawName:"v-show",value:e.canPickColour&&e.currentColour,expression:"canPickColour && currentColour"}],attrs:{colour:e.currentColour,"mouse-position":e.mousePosition}}),o("canvas",{ref:"image",on:{click:e.click,mouseover:e.setMouseAndColour,mousemove:e.setMouseAndColour,mouseleave:e.resetMouseAndColour}})],1)])},ye=[],be=(o("6b54"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"imagecolourswatch",style:e.swatchStyle},[e._v(" ")])}),we=[],xe={name:"ImageColourSwatch",props:{colour:{type:String,required:!0},mousePosition:{type:Object,required:!0}},computed:{swatchStyle:function(){return{"background-color":this.colour,top:this.mousePosition.y-40+"px",left:this.mousePosition.x+10+"px"}}}},_e=xe,ke=(o("9011"),Object(f["a"])(_e,be,we,!1,null,"60a4ddd2",null));ke.options.__file="ImageColourSwatch.vue";var Pe=ke.exports,Ie={x:0,y:0},Oe={name:"ScalableImage",props:{canPickColour:{type:Boolean},image:{type:HTMLImageElement,required:!0},scale:{type:Number,required:!0}},data:function(){return{currentColour:"",mousePosition:Ie}},computed:{height:function(){return this.image.height*this.scale},width:function(){return this.image.width*this.scale},activeClass:function(){return this.canPickColour?"active":""}},methods:{drawImage:function(){var e=this.$refs.image,t=this.getDrawingContext();e.width=this.width,e.height=this.height,t.scale(this.scale,this.scale),t.drawImage(this.image,0,0)},getDrawingContext:function(){return this.$refs.image.getContext("2d")},click:function(e){this.canPickColour&&(this.setMouseAndColour(e),this.$emit("colour-picked",this.currentColour))},toHex:function(e){var t=e.toString(16).toUpperCase();return 1===t.length?"0"+t:t},setMouseAndColour:function(e){this.setCurrentColour(e),this.setMousePosition(e)},resetMouseAndColour:function(){this.currentColour="",this.mousePosition=Ie},setCurrentColour:function(e){var t=this.getDrawingContext().getImageData(e.offsetX,e.offsetY,1,1).data;this.currentColour="#"+this.toHex(t[0])+this.toHex(t[1])+this.toHex(t[2])},setMousePosition:function(e){this.mousePosition={x:e.offsetX,y:e.offsetY}}},watch:{image:function(){this.resetMouseAndColour(),this.drawImage()},scale:function(){this.resetMouseAndColour(),this.drawImage()}},components:{ImageColourSwatch:Pe}},Me=Oe,$e=(o("36af"),Object(f["a"])(Me,Ce,ye,!1,null,"71806064",null));$e.options.__file="ScalableImage.vue";var Ee=$e.exports,Se={name:"ImageCanvas",props:{canPickColour:Boolean,image:HTMLImageElement,scale:Number},data:function(){return{isDropHighlightActive:!1}},components:{ScalableImage:Ee},computed:{hasImage:function(){return this.image.width&&this.image.height},dropClass:function(){return this.isDropHighlightActive?"imagecanvas--drop":""}},methods:{dragEnter:function(e){(e.dataTransfer.files.length||Object(T["a"])(e.dataTransfer.items).find(function(e){return"file"===e.kind&&e.type.indexOf(!1)}))&&(this.isDropHighlightActive=!0,e.dataTransfer.dropEffect="copy")},dragLeave:function(e){e.target===this.$refs.droptarget&&(this.isDropHighlightActive=!1)},drop:function(e){this.isDropHighlightActive=!1,e.dataTransfer&&e.dataTransfer.files&&this.$emit("file-dropped",e.dataTransfer.files)},colourPicked:function(e){this.$emit("colour-picked",e)},preventDefaults:function(e){e.preventDefault(),e.stopPropagation()},wheel:function(e){e.deltaY&&(this.preventDefaults(e),this.$emit("zoom",this.scale*(e.deltaY>0?.9:1.1)))}},created:function(){window.addEventListener("dragover",this.preventDefaults,!1),window.addEventListener("drop",this.preventDefaults,!1)},destroyed:function(){window.removeEventListener("dragover",this.preventDefaults),window.removeEventListener("drop",this.preventDefaults)}},De=Se,Te=(o("daae"),Object(f["a"])(De,ve,ge,!1,null,"30860445",null));Te.options.__file="ImageCanvas.vue";var je=Te.exports,Ae=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"imagefileopen"},[o("label",{ref:"label",attrs:{for:"selectImage"}},[o("input",{staticStyle:{display:"none"},attrs:{id:"selectImage",type:"file"},on:{input:e.input}}),o("button",{staticClass:"imagefileopen--button icon-button fas fa-folder-open",attrs:{title:"Open image..."},on:{click:function(t){return t.preventDefault(),e.click(t)}}})])])},Le=[],ze={name:"ImageFileOpen",methods:{input:function(e){this.$emit("file-selected",e.target.files)},click:function(){this.$refs.label.click()}}},Fe=ze,Ne=(o("29a7"),Object(f["a"])(Fe,Ae,Le,!1,null,"5e352661",null));Ne.options.__file="ImageFileOpen.vue";var Ve=Ne.exports,Re=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"imagezoom"},[o("button",{staticClass:"icon-button imagezoom-out fas fa-image",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.zoomOut(t)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.sliderValue,expression:"sliderValue"}],staticClass:"imagezoom-slider",attrs:{type:"range",min:"1",max:"100",disabled:!e.enabled},domProps:{value:e.sliderValue},on:{mousedown:function(t){e.sliderActive=!0},mouseup:function(t){e.sliderActive=!1},__r:function(t){e.sliderValue=t.target.value}}}),o("button",{staticClass:"icon-button imagezoom-in fas fa-image",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.zoomIn(t)}}}),o("div",{staticClass:"imagezoom-percentage"},[e._v(e._s(e.percentage)+"%")])])},Ue=[],qe={name:"ImageZoom",props:{scale:Number,range:Object,enabled:Boolean},data:function(){return{sliderValue:50,sliderActive:!1}},computed:{percentage:function(){return Math.round(100*this.scale)}},watch:{scale:function(e){this.sliderActive||(this.sliderValue=e<1?49*(e-this.range.min)/(1-this.range.min)+1:50*(e-1)/(this.range.max-1)+50)},sliderValue:function(e){var t=e<50?(e-1)*(1-this.range.min)/49+this.range.min:(e-50)*(this.range.max-1)/50+1;this.$emit("zoom",t)}},methods:{input:function(e,t){this.sliderValue=e.target.value},zoomIn:function(){this.enabled&&this.$emit("zoom",1.1*this.scale)},zoomOut:function(){this.enabled&&this.$emit("zoom",.9*this.scale)}}},He=qe,Be=(o("5597"),Object(f["a"])(He,Re,Ue,!1,null,"e264469c",null));Be.options.__file="ImageZoom.vue";var Xe=Be.exports,Ge={name:"ImageColourPicker",props:{canPickColour:Boolean},data:function(){return{image:new Image,scale:1,zoomRange:{min:.1,max:10}}},computed:{hasImage:function(){return this.image.width>0&&this.image.height>0}},components:{ImageCanvas:je,ImageFileOpen:Ve,ImageZoom:Xe},methods:{colourPicked:function(e){this.$emit("colour-picked",e)},displayFirstImage:function(e){var t=e.find(function(e){return e.type.indexOf("image/")>-1});if(t){var o=this,a=new FileReader;a.onload=function(){var e=new Image;e.onload=function(){o.scale=1,o.image=this},e.src=a.result},a.readAsDataURL(t)}else console.log("File list did not contain image")},fileSelected:function(e){this.displayFirstImage(Object(T["a"])(e))},paste:function(e){if(e.clipboardData&&e.clipboardData.items&&"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName){var t=Object(T["a"])(e.clipboardData.items).filter(function(e){return"file"===e.kind}).map(function(e){return e.getAsFile()});this.displayFirstImage(t)}},zoom:function(e){e<this.zoomRange.min?e=this.zoomRange.min:e>this.zoomRange.max&&(e=this.zoomRange.max),this.scale=e}},created:function(){window.addEventListener("paste",this.paste,!1)},destroyed:function(){window.removeEventListener("paste",this.paste)}},Ye=Ge,Ze=(o("b9da"),Object(f["a"])(Ye,fe,he,!1,null,"3f2304c3",null));Ze.options.__file="ImageColourPicker.vue";var Je=Ze.exports,Ke=1,Qe={name:"app",components:{ColourPalette:me,ImageColourPicker:Je},data:function(){return{palette:this.createPalette()}},computed:{currentColour:{get:function(){return this.palette.colours.find(function(e){return e.isSelected})},set:function(e){this.palette.colours.forEach(function(t){return t.isSelected=t===e})}},canPickColour:function(){return!!this.currentColour}},methods:{createPalette:function(e){return e=e||["#FFFFFF"],{name:"",type:"regular",maximumColours:20,colours:e.map(function(e,t){return{id:Ke++,colour:e.toUpperCase(),isSelected:0===t}})}},typeSelected:function(e){this.palette.type=e},addColour:function(){if(!(this.palette.colours.length>=this.palette.maximumColours)){var e={id:Ke++,colour:"#FFFFFF",isSelected:!1};this.palette.colours.push(e),this.currentColour=e}},moveColour:function(e){var t=e.colour,o=e.newIndex,a=this.palette.colours,n=a.indexOf(t);a.splice(o,0,a.splice(n,1)[0]),this.palette.colours=a},colourPicked:function(e){var t=this.currentColour;t&&(t.colour=e)},importPalette:function(e){this.palette=this.createPalette(e.colours),this.palette.name=e.name,this.palette.type=e.type},discardPalette:function(){this.palette=this.createPalette()},selectColour:function(e){this.currentColour=e},removeColour:function(e){this.palette.colours=this.palette.colours.filter(function(t){return t!==e})}}},We=Qe,et=(o("7c55"),Object(f["a"])(We,n,i,!1,null,null,null));et.options.__file="App.vue";var tt=et.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(tt)}}).$mount("#app")},"59a9":function(e,t,o){},"5a07":function(e,t,o){"use strict";var a=o("049a"),n=o.n(a);n.a},"7a6b":function(e,t,o){},"7c55":function(e,t,o){"use strict";var a=o("d3dd"),n=o.n(a);n.a},8697:function(e,t,o){},"8b68":function(e,t,o){},9011:function(e,t,o){"use strict";var a=o("49d1"),n=o.n(a);n.a},9374:function(e,t,o){"use strict";var a=o("991f"),n=o.n(a);n.a},"93e4":function(e,t,o){"use strict";var a=o("2945"),n=o.n(a);n.a},"991f":function(e,t,o){},b2a8:function(e,t,o){"use strict";var a=o("ca61"),n=o.n(a);n.a},b897:function(e,t,o){},b9da:function(e,t,o){"use strict";var a=o("8697"),n=o.n(a);n.a},c6d4:function(e,t,o){"use strict";var a=o("24d8"),n=o.n(a);n.a},ca61:function(e,t,o){},d3dd:function(e,t,o){},daae:function(e,t,o){"use strict";var a=o("59a9"),n=o.n(a);n.a},eb63:function(e,t,o){"use strict";var a=o("3627"),n=o.n(a);n.a},f2aa:function(e,t,o){},fae8:function(e,t,o){"use strict";var a=o("180b"),n=o.n(a);n.a}});
//# sourceMappingURL=app.e66d058b.js.map